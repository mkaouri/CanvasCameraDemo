<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title>Blank App</title>
	<style>html,body,canvas { margin: 0; padding: 0; width: 100%; height: 100%; font-size: 0; }</style>
    </head>
    <body>
        <script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="js/artoolkit.min.js"></script>
		<script type="text/javascript" src="js/babylon.2.5.max.js"></script>
		<script type="text/javascript" src="js/artoolkit.babylon.js"></script>
	<div id="deviceready">	
		<canvas class="raster" id="fullsize"></canvas>	
		<canvas id="render-canvas"></canvas>
		<script>
	document.addEventListener('deviceready', function () {

	    if (window.plugin.CanvasCamera) {
			window.plugin.CanvasCamera.initialize({
                fullsize: document.getElementById('fullsize')
            });
       	
           var options = {
              canvas: {
                width: 640,
                height: 480
              },
              capture: {
                width: 640,
                height: 480
              },
              use: 'file',
              fps: 30,
              flashMode: false,
              hasThumbnail: false,
              thumbnailRatio: 1/6,
              cameraFacing: 'back'
          };
		  		
          window.plugin.CanvasCamera.start(options, function(error) {
            console.log('[CanvasCamera start]', 'error', error);

          }, function(data) {
            // console.log('[CanvasCamera start]', 'data', data);
			});	
		
var canvas = document.getElementById("render-canvas");
    var engine = new BABYLON.Engine(canvas);
    var scene = new BABYLON.Scene(engine);
    scene.clearColor = new BABYLON.Color3(0.8, 0.8, 0.8);
    var camera = new BABYLON.FreeCamera("camera", new BABYLON.Vector3(0, 0, -10), scene);
    var light = new BABYLON.PointLight("light", new BABYLON.Vector3(10, 10, 0), scene);

    var box = BABYLON.Mesh.CreateBox("box", 2, scene);
    box.rotation.x = -0.2;
    box.rotation.y = -0.4;

    var boxMaterial = new BABYLON.StandardMaterial("material", scene);
    boxMaterial.emissiveColor = new BABYLON.Color3(0, 0.58, 0.86);
    box.material = boxMaterial;

    var renderLoop = function () {
        scene.render();
    };
    engine.runRenderLoop(renderLoop);
	
		};	
			  
}, false);	
	
		</script>
    </body>
</html>
